include<stdlib.h>
struct Node
{
int data;
struct Node *next;
};
void insertLast (struct Node **head, int data)
{
struct Node *newNode = (struct Node *) malloc (sizeof (struct Node));
newNode->data = data;
// if its the first node being entered
if (*head == NULL)
{
*head = newNode;
(*head)->next = *head;
return;
}
// if LL already as >=1 node
struct Node *curr = *head;
// traverse till last node in LL
while (curr->next != *head)
{
curr = curr->next;
}
// assign LL's current last node's next as this new node
curr->next = newNode;
// assign this new node's next as current head of LL
newNode->next = *head;
}
void display (struct Node *head)
{
// if there are no node in LL
if (head == NULL)
return;
struct Node *temp = head;
//need to take care of circular structure of LL
do
{
printf ("%d ", temp->data);
temp = temp->next;
}
while (temp != head);
printf ("\n");
}
int main ()
{
struct Node *head = NULL;
int n,a[100];
printf("Enter the number of elements");
scanf("%d",&n);
printf("Enter the elements");
for(int i=1;i<=n;i++)
{
scanf("%d",&a[i]);
insertLast (&head, a[i]);
}
printf("The elements are");
display (head);
// Freeing the allocated memory
struct Node *current = head;
struct Node *next;
while (current != NULL && current->next != head) {
next = current->next;
free(current);
current = next;
}
free(current); // Free the last node
head = NULL; // Set head to NULL after deallocation
return 0;
